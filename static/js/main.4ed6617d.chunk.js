(this.webpackJsonpclient_web=this.webpackJsonpclient_web||[]).push([[0],{111:function(e,t,c){},112:function(e,t,c){},113:function(e,t,c){},178:function(e,t,c){},179:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(1),s=c.n(n),r=c(23),i=c.n(r),o=(c(71),c(72),c(73),c(76),c(77),c(5)),j=c(22),l=c.n(j),b=c(3),u=c.n(b),d=c(16),p=c(13),O=c(4),m=c(2),h=c(64),x=c.n(h),f=c(17)("accessToken"),g=x.a.create({baseURL:"https://fierce-inlet-80648.herokuapp.com/",timeout:3e3,headers:{Authorization:"Bearer "+f}}),v=(c(45),c.p+"static/media/logo.0b345ffd.svg"),y=c.p+"static/media/logo_grid.eb9a7f8e.svg",N=c(6),k=c.n(N),w=function(e){return Object(a.jsx)("div",{className:" header p-2 px-3",children:e.login?Object(a.jsxs)("span",{children:["  ",Object(a.jsx)("img",{src:v,height:50})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{src:y,height:40}),Object(a.jsxs)("span",{className:"float-right pt-2",children:[Object(a.jsx)(k.a,{icon:"search",className:"mr-3"}),Object(a.jsx)(k.a,{icon:"heart",className:"mr-0"})]})]})})},S=c(46),C=c(17),F=function(){var e=Object(o.k)(),t=Object(n.useState)([]),c=Object(m.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)(!1),j=Object(m.a)(i,2),l=j[0],b=j[1],h=Object(n.useState)(!1),x=Object(m.a)(h,2),f=x[0],v=x[1],y=Object(n.useState)([]),N=Object(m.a)(y,2),k=N[0],F=N[1],E=Object(n.useState)([]),L=Object(m.a)(E,2),_=L[0],A=L[1],q=Object(n.useState)(!0),R=Object(m.a)(q,2),B=R[0],D=R[1];function T(){return(T=Object(O.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),v(!1),e.prev=2,e.next=5,g.post("/users",s);case 5:if(!(t=e.sent).data){e.next=8;break}return e.abrupt("return",t.data);case 8:b(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),v(e.t0),b(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function U(){return(U=Object(O.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),v(!1),e.prev=2,e.next=5,g.post("/users/login",s);case 5:if(!(t=e.sent).data){e.next=8;break}return e.abrupt("return",t.data);case 8:b(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),v(e.t0),b(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}var P=function(e){r(Object(p.a)(Object(p.a)({},s),{},Object(d.a)({},e.target.name,e.target.value.trim())))};function I(t){t.preventDefault(),function(){return T.apply(this,arguments)}().then((function(t){t.accessToken&&(C("accessToken",t.accessToken),C("user_id",t.user_id),e.replace("/"))}))}function z(t){t.preventDefault(),function(){return U.apply(this,arguments)}().then((function(t){t.accessToken&&(console.log(t),C("accessToken",t.accessToken),C("user_id",t.user_id),e.replace("/"))}))}return Object(n.useEffect)((function(){s.country&&F(S.searchCountry(s.country))}),[s.country]),Object(n.useEffect)((function(){s.state&&A(S.getAllStatesFromCountry(s.country))}),[s.state]),Object(a.jsxs)("div",{children:[Object(a.jsx)(w,{login:!0}),Object(a.jsxs)("div",{className:"mt70 pt-4 pb-5",children:[Object(a.jsx)("h1",{className:"",children:"Online catalog for your products"}),Object(a.jsxs)("div",{className:"tab-bg mt-2 p-1",children:[Object(a.jsx)("button",{className:B?"btn btn-primary":"btn btn-light bg-white",onClick:function(){D(!0)},children:"SignUp"}),Object(a.jsx)("button",{className:B?"btn btn-light bg-white ml-2":"btn btn-primary ml-2",onClick:function(){D(!1)},children:"LogIn"})]}),B?Object(a.jsxs)("form",{className:"mt-4 px-2",onSubmit:function(e){return I(e)},children:[Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Shop Name"})}),Object(a.jsx)("input",{type:"text",className:"form-control",required:!0,name:"name",onChange:P})]}),Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Email"})}),Object(a.jsx)("input",{type:"email",className:"form-control",required:!0,name:"email",onChange:P})]}),Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"WhatsApp number"})}),Object(a.jsx)("input",{type:"number",className:"form-control",required:!0,name:"whatsapp",onChange:P})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Password"})}),Object(a.jsx)("input",{type:"password",className:"form-control",required:!0,name:"password",onChange:P})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Address"})}),Object(a.jsx)("input",{type:"text",className:"form-control",required:!0,name:"address",onChange:P})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Country"})}),Object(a.jsx)("input",{list:"countrylist",type:"text",className:"form-control",required:!0,name:"country",onChange:P}),Object(a.jsx)("datalist",{id:"countrylist",children:k.map((function(e){return Object(a.jsx)("option",{value:e.name},e.id)}))})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"State"})}),Object(a.jsx)("input",{type:"text",list:"statelist",className:"form-control",required:!0,name:"state",onChange:P}),Object(a.jsx)("datalist",{id:"statelist",children:_.map((function(e){return Object(a.jsx)("option",{value:e.name},e.id)}))})]}),f&&Object(a.jsxs)("span",{className:"text-danger font-weight-bold",children:["Email or WhatsApp number already exists try to log in. ",Object(a.jsx)("br",{})]}),Object(a.jsx)("button",{type:"submit",className:"mt-2 btn  btn-dark",children:l?Object(a.jsx)(a.Fragment,{children:"Loading..."}):Object(a.jsx)(a.Fragment,{children:"Submit"})})]}):Object(a.jsxs)("form",{className:"mt-4 px-2",onSubmit:function(e){return z(e)},children:[Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Email"})}),Object(a.jsx)("input",{type:"email",className:"form-control",required:!0,name:"email",onChange:P})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Password"})}),Object(a.jsx)("input",{type:"password",className:"form-control",required:!0,name:"password",onChange:P})]}),f&&Object(a.jsxs)("span",{className:"text-danger font-weight-bold",children:["Incorrect Email or Password. ",Object(a.jsx)("br",{})]}),Object(a.jsx)("button",{type:"submit",className:"mt-2 btn  btn-dark",children:l?Object(a.jsx)(a.Fragment,{children:"Loading..."}):Object(a.jsx)(a.Fragment,{children:"Submit"})})]})]})]})},E=c(8),L=c.p+"static/media/dp.280bc121.svg",_=(c(111),c(112),c.p+"static/media/whatsapp.4a15730c.svg"),A=function(e){return Object(a.jsx)("div",{className:"wabtn",children:Object(a.jsx)("a",{href:"https://wa.me/91"+e.num,target:"_blank",children:Object(a.jsxs)("button",{className:"btn btn-light btn-sm shadow",children:[Object(a.jsx)("img",{src:_,width:"25px"})," Contact Us"]})})})},q=(c(113),function(){return Object(a.jsx)("div",{className:"loadingdiv",children:Object(a.jsx)("div",{className:"lodingcenterdiv",children:Object(a.jsx)("div",{className:"spinner-border text-primary loadingitem ",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})})})}),R=c(25),B=function(e){var t="category"==e.data.type?"/category/"+e.data._id:"/product/"+e.data._id;return Object(a.jsx)(E.Link,{to:t,children:Object(a.jsxs)("div",{className:"grid-box",children:[Object(a.jsx)("img",{className:"grid-image",src:e.data.photo}),Object(a.jsx)("h5",{className:"mb-0 ",children:e.data.title}),Object(a.jsxs)("span",{className:"text-muted",children:[" ",e.data.description," "]}),e.data.price&&Object(a.jsxs)("h4",{className:"mt-1",children:["\u20b9 ",e.data.price]})]})})},D=(c(48),c(20)),T=c.n(D),U=c(61),P=c(17),I=function(e){var t=e.match,c=Object(n.useState)([]),s=Object(m.a)(c,2),r=s[0],i=s[1],o=Object(n.useState)(!0),j=Object(m.a)(o,2),l=j[0],b=j[1],d=Object(n.useState)(!1),p=Object(m.a)(d,2),h=(p[0],p[1]),x=Object(n.useState)([]),f=Object(m.a)(x,2),v=f[0],y=f[1],N=Object(n.useState)(0),S=Object(m.a)(N,2),C=S[0],F=S[1],_=Object(n.useState)(!1),I=Object(m.a)(_,2),z=I[0],M=I[1],W=Object(n.useState)(""),V=Object(m.a)(W,2),H=(V[0],V[1]);t.params.id;function J(){return(J=Object(O.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!1),e.prev=1,t="","/posts?",t+="skip="+C+"&category="+r._id,e.next=8,g.get("/posts?"+t);case 8:c=e.sent,console.log(c.data),y(v.concat(c.data)),F(C+10),(!c.data[0]||c.data.length<10)&&(M(!0),console.log("stoped")),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),h(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function G(){return(G=Object(O.a)(u.a.mark((function e(){var c,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),h(!1),e.prev=2,c=t.params.id,a="me"==c?"/users":"/users/"+c,e.next=7,g.get(a);case 7:n=e.sent,console.log(n.data),i(n.data),b(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),h(e.t0),b(!1);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){console.log("effect"),function(){G.apply(this,arguments)}()}),[]),Object(a.jsxs)("div",{className:"mb-5",children:[Object(a.jsx)(w,{login:!1}),!l&&Object(a.jsxs)(a.Fragment,{children:[" ",Object(a.jsxs)("div",{className:"mt70",children:[Object(a.jsx)("img",{className:"m-auto dp2",src:r.profilepic?r.profilepic:L}),Object(a.jsxs)("div",{className:"mt-3",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col",children:["  ",Object(a.jsxs)("h3",{className:"mb-0",children:[r.name," "]})]}),Object(a.jsx)("div",{className:"col-2",children:Object(a.jsx)("span",{onClick:function(){U(window.location.host+"/#/user/"+r._id)},children:Object(a.jsx)(k.a,{icon:"share-2",className:"mt-2"})})})]}),Object(a.jsxs)("div",{className:"mt-1 text-medium font-weight-bold ",children:[" ",r.description]}),Object(a.jsxs)("div",{className:" mt-1 text14 font-weight-bold",children:[" ",Object(a.jsx)(k.a,{size:14,icon:"map-pin"})," ",r.address+", "+r.state+", "+r.country," "]}),r._id==P("user_id")?Object(a.jsxs)(a.Fragment,{children:[" ",Object(a.jsxs)(E.Link,{to:"/editprofile",children:[" ",Object(a.jsxs)("button",{className:"btn btn-primary btn-sm mt-2 ",children:[" ",Object(a.jsx)(k.a,{icon:"edit",size:18})," Edit Profile"]})]}),Object(a.jsxs)("div",{className:"mt-2",children:[Object(a.jsx)(E.Link,{to:"/addpost?type=category&category="+r._id,children:Object(a.jsxs)("button",{className:"btn btn-dark btn-sm",children:[" ",Object(a.jsx)(k.a,{icon:"plus"})," Add category "]})}),Object(a.jsx)(E.Link,{to:"/addpost?type=product&category="+r._id,children:Object(a.jsxs)("button",{className:"btn btn-dark btn-sm ml-2",children:[" ",Object(a.jsx)(k.a,{icon:"plus"})," Add product "]})})]})]}):Object(a.jsx)(a.Fragment,{})]}),Object(a.jsx)("div",{}),Object(a.jsxs)("div",{className:" mt-3 mb-5",children:[Object(a.jsx)("div",{class:"",children:Object(a.jsx)(D.ResponsiveMasonry,{columnsCountBreakPoints:{350:2,750:3,900:3},children:Object(a.jsx)(T.a,{gutter:"5px",children:v.map((function(e){return Object(a.jsx)(B,{data:e,setcopied:H},e._id)}))})})}),!z&&Object(a.jsx)(R.a,{as:"div",onChange:function(e,t){e&&function(){J.apply(this,arguments)}()},children:Object(a.jsx)("div",{className:"container mb-4 text-center",children:Object(a.jsx)("div",{className:"spinner-border text-primary",role:"status"})})})]})]}),Object(a.jsx)(A,{num:r.whatsapp})]}),l&&Object(a.jsx)(q,{})]})},z=function(e){var t=Object(o.k)();return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"header p-2 px-2",children:Object(a.jsxs)("span",{className:" headtwo h5",children:[Object(a.jsx)(k.a,{onClick:function(){t.go(-1)},icon:"chevron-left",color:"black"}),"  ",Object(a.jsxs)("b",{children:[" ",e.name]})]})})})},M=(c(178),c(26)),W=(c(62),c(27)),V=function(e){new FileReader;var t=Object(n.useState)(e.pic),c=Object(m.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)(!1),o=Object(m.a)(i,2),j=o[0],l=o[1],b=Object(n.useState)("#"),d=Object(m.a)(b,2),p=(d[0],d[1],Object(n.useState)()),h=Object(m.a)(p,2),x=h[0],f=h[1],v=Object(n.useState)(),y=Object(m.a)(v,2),N=y[0],k=y[1],w=Object(n.useState)(!1),S=Object(m.a)(w,2),C=S[0],F=S[1],E=Object(n.useState)(!1),_=Object(m.a)(E,2),A=(_[0],_[1]),q=new FormData;function R(){return(R=Object(O.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),A(!1),e.prev=2,e.next=5,g.put("/users/profilephoto",q);case 5:if(!e.sent){e.next=9;break}return F(!1),e.abrupt("return",!0);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),A(e.t0),F(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}var B=function(){var e=Object(O.a)(u.a.mark((function e(t){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files&&t.target.files.length>0)){e.next=8;break}return c=t.target.files[0],k(t.target.files[0].name),e.next=5,URL.createObjectURL(c);case 5:a=e.sent,r(a),l(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r(null!=e.pic?e.pic:L)}),[]),Object(a.jsxs)("div",{className:"row mt-3",children:[Object(a.jsx)("div",{className:"m-auto",children:j?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(M.a,{style:{height:200,width:"90%"},initialAspectRatio:4/3,aspectRatio:4/3,src:s,viewMode:1,guides:!0,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:0,checkOrientation:!1,onInitialized:function(e){f(e)}}),Object(a.jsx)("button",{className:"btn btn-outline-primary btn-block mt-2",onClick:function(){F(!0),"undefined"!==typeof x&&x.getCroppedCanvas().toBlob((function(e){Object(W.a)(e,{maxSizeMB:2,maxWidthOrHeight:500}).then((function(e){q.append("avatar",e,N),function(){return R.apply(this,arguments)}().then(r(x.getCroppedCanvas().toDataURL())).then(l(!1))}))}))},children:C?Object(a.jsx)(a.Fragment,{children:" loading"}):Object(a.jsx)(a.Fragment,{children:"Crop & Upload"})})]}):Object(a.jsx)("img",{src:s,className:"dp"})}),Object(a.jsxs)("div",{className:"col-12 mt-3",children:[Object(a.jsx)("input",{hidden:!0,id:"photoinput",type:"file",accept:"image/*",onChange:B}),Object(a.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(){document.getElementById("photoinput").click()},children:" Change Image "})]})]})},H=c(46),J=c(17),G=function(){var e=Object(o.k)(),t=Object(n.useState)([]),c=Object(m.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)(null),j=Object(m.a)(i,2),l=j[0],b=j[1],h=Object(n.useState)([]),x=Object(m.a)(h,2),f=x[0],v=x[1],y=Object(n.useState)(!1),N=Object(m.a)(y,2),k=N[0],w=N[1],S=Object(n.useState)(!1),C=Object(m.a)(S,2),F=(C[0],C[1]),E=Object(n.useState)(!1),L=Object(m.a)(E,2),_=L[0],A=L[1],R=Object(n.useState)(!1),B=Object(m.a)(R,2),D=B[0],T=B[1],U=Object(n.useState)(!1),P=Object(m.a)(U,2),I=P[0],M=P[1],W=Object(n.useState)([]),G=Object(m.a)(W,2),K=G[0],Q=G[1],X=Object(n.useState)([]),Y=Object(m.a)(X,2),Z=Y[0],$=Y[1];function ee(){return(ee=Object(O.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(f),A(!0),T(!1),e.prev=3,e.next=6,g.put("/users",f);case 6:e.sent&&(A(!1),M(!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),T(e.t0),A(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function te(){return(te=Object(O.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),F(!1),e.prev=2,"/users",e.next=6,g.get("/users");case 6:t=e.sent,console.log(t.data),r(t.data),b(t.data.profilepic),w(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),F(e.t0),w(!1);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}var ce=function(e){v(Object(p.a)(Object(p.a)({},f),{},Object(d.a)({},e.target.name,e.target.value.trim())))};function ae(e){e.preventDefault(),function(){ee.apply(this,arguments)}()}return Object(n.useEffect)((function(){!function(){te.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){f.country&&Q(H.searchCountry(f.country))}),[f.country]),Object(n.useEffect)((function(){f.state&&$(H.getAllStatesFromCountry(f.country))}),[f.state]),Object(n.useEffect)((function(){I&&setTimeout((function(){M(!1)}),3e3)}),[I]),Object(a.jsxs)("div",{className:"mt70  pb-5 ",children:[Object(a.jsx)(z,{name:"Edit Profile"}),!k&&Object(a.jsxs)("div",{children:[Object(a.jsx)(V,{pic:l}),Object(a.jsxs)("form",{className:"mt-4 px-2",onSubmit:function(e){return ae(e)},children:[Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Name"})}),Object(a.jsx)("input",{defaultValue:s.name,type:"text",className:"form-control",required:!0,name:"name",onChange:ce})]}),Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Email"})}),Object(a.jsx)("input",{defaultValue:s.email,type:"email",className:"form-control",required:!0,name:"email",onChange:ce})]}),Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Description"})}),Object(a.jsx)("textarea",{defaultValue:s.description,type:"email",className:"form-control",name:"description",onChange:ce})]}),Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Address"})}),Object(a.jsx)("input",{defaultValue:s.address,type:"text",className:"form-control",required:!0,name:"address",onChange:ce})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Country"})}),Object(a.jsx)("input",{defaultValue:s.country,list:"countrylist",type:"text",className:"form-control",required:!0,name:"country",onChange:ce}),Object(a.jsx)("datalist",{id:"countrylist",children:K.map((function(e){return Object(a.jsx)("option",{value:e.name},e.id)}))})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"State"})}),Object(a.jsx)("input",{defaultValue:s.state,type:"text",list:"statelist",className:"form-control",required:!0,name:"state",onChange:ce}),Object(a.jsx)("datalist",{id:"statelist",children:Z.map((function(e){return Object(a.jsx)("option",{value:e.name},e.id)}))})]}),D&&Object(a.jsxs)("span",{className:"text-danger font-weight-bold",children:["Email or Whatsapp number already exists. ",Object(a.jsx)("br",{})]}),I&&Object(a.jsxs)("span",{className:"text-success font-weight-bold",children:["Updated Successfully. ",Object(a.jsx)("br",{})]}),Object(a.jsx)("button",{type:"submit",className:"mt-2 btn  btn-primary",children:_?Object(a.jsx)(a.Fragment,{children:"Loading..."}):Object(a.jsx)(a.Fragment,{children:"Save"})})]}),Object(a.jsx)("button",{className:"btn btn-block btn-danger mt-5 mb-5",onClick:function(){J("accessToken",null),J("user_id",null),e.replace("/login")},children:"Log Out"})]}),k&&Object(a.jsx)(q,{})]})},K=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(!1),i=Object(m.a)(r,2),j=i[0],l=i[1],b=Object(n.useState)("#"),h=Object(m.a)(b,2),x=(h[0],h[1],Object(n.useState)()),f=Object(m.a)(x,2),v=f[0],y=f[1],N=Object(n.useState)(),w=Object(m.a)(N,2),S=(w[0],w[1]),C=new URLSearchParams(Object(o.l)().search),F=new FormData,E=Object(n.useState)(!1),L=Object(m.a)(E,2),_=L[0],A=L[1],q=Object(n.useState)([]),R=Object(m.a)(q,2),B=R[0],D=R[1],T=Object(n.useState)(!1),U=Object(m.a)(T,2),P=U[0],I=U[1],V=Object(n.useState)(!1),H=Object(m.a)(V,2),J=H[0],G=H[1],K=Object(n.useState)(!1),Q=Object(m.a)(K,2),X=Q[0],Y=Q[1],Z=Object(n.useState)(null),$=Object(m.a)(Z,2);$[0],$[1];function ee(){return(ee=Object(O.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t in B)F.append(t,B[t]);return I(!0),Y(!1),e.prev=3,e.next=6,g.post("/posts",F);case 6:e.sent&&(I(!1),A(!0),window.scrollTo(0,0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),Y(e.t0),I(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}var te=function(e){D(Object(p.a)(Object(p.a)({},B),{},Object(d.a)({},e.target.name,e.target.value.trim())))};function ce(e){e.preventDefault(),function(){ee.apply(this,arguments)}()}var ae=function(){var e=Object(O.a)(u.a.mark((function e(t){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files&&t.target.files.length>0)){e.next=8;break}return c=t.target.files[0],S(t.target.files[0].name),e.next=5,URL.createObjectURL(c);case 5:a=e.sent,s(a),l(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){D(Object(p.a)(Object(p.a)({},B),{},{type:C.get("type"),category:C.get("category"),avatar:null}))}),[]),Object(a.jsxs)("div",{className:"mt70  pb-5",children:[Object(a.jsx)(z,{name:"Add"}),_?Object(a.jsx)("div",{className:"text-center ",children:Object(a.jsx)("h1",{children:"Upload Successfull."})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("form",{className:"pt-1 px-2",onSubmit:function(e){return ce(e)},children:[Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Title"})}),Object(a.jsx)("input",{type:"text",className:"form-control",required:!0,name:"title",onChange:te})]}),Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Description"})}),Object(a.jsx)("textarea",{type:"text",className:"form-control",required:!0,name:"description",onChange:te})]}),"product"==B.type?Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Price"})}),Object(a.jsx)("input",{type:"number",className:"form-control",required:!0,name:"price",onChange:te})]}):Object(a.jsx)(a.Fragment,{}),Object(a.jsx)("input",{hidden:!0,id:"postphotoinput",name:"avatar",type:"file",accept:"image/*",required:!0,onChange:ae}),Object(a.jsx)("button",{type:"submit",id:"submitpost",hidden:!0,className:"mt-3 btn  btn-primary",children:P?Object(a.jsx)(a.Fragment,{children:"Loading..."}):Object(a.jsx)(a.Fragment,{children:"Post"})})]}),j?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(M.a,{style:{height:200,width:"90%"},initialAspectRatio:9/16,src:c,viewMode:1,guides:!0,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:0,checkOrientation:!1,onInitialized:function(e){y(e)}}),Object(a.jsx)("button",{className:"btn btn-outline-primary btn-block mt-2",onClick:function(){G(!0),"undefined"!==typeof v&&v.getCroppedCanvas().toBlob((function(e){Object(W.a)(e,{maxSizeMB:1,maxWidthOrHeight:1e3}).then((function(e){D(Object(p.a)(Object(p.a)({},B),{},{avatar:e})),s(v.getCroppedCanvas().toDataURL()),l(!1),G(!1)}))}))},children:J?Object(a.jsx)(a.Fragment,{children:" loading"}):Object(a.jsx)(a.Fragment,{children:"Crop"})})]}):Object(a.jsx)("img",{src:c,className:"img-preview  mb-2"}),Object(a.jsxs)("button",{onClick:function(){document.getElementById("postphotoinput").click()},className:"btn btn-light btn-block mt-2",children:[J?Object(a.jsx)(a.Fragment,{children:"Loading..."}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(k.a,{icon:"image"})," Add Photo"]})," "]}),X&&Object(a.jsxs)("span",{className:"text-danger font-weight-bold",children:["Error ",Object(a.jsx)("br",{})]}),B.avatar&&Object(a.jsx)("button",{onClick:function(){document.getElementById("submitpost").click()},className:"mt-3 btn  btn-primary",children:P?Object(a.jsx)(a.Fragment,{children:"Loading..."}):Object(a.jsx)(a.Fragment,{children:"Upload"})})]})]})},Q=c(17),X=function(e){var t=e.match,c=Object(n.useState)(!0),s=Object(m.a)(c,2),r=s[0],i=s[1],j=Object(n.useState)(!1),l=Object(m.a)(j,2),b=(l[0],l[1]),d=Object(n.useState)([]),p=Object(m.a)(d,2),h=p[0],x=p[1],f=Object(n.useState)(0),v=Object(m.a)(f,2),y=v[0],N=v[1],S=Object(n.useState)(!1),C=Object(m.a)(S,2),F=C[0],L=C[1],_=Object(n.useState)(""),U=Object(m.a)(_,2),P=(U[0],U[1]),I=Object(n.useState)(null),z=Object(m.a)(I,2),M=z[0],W=z[1],V=Object(n.useState)(null),H=Object(m.a)(V,2),J=H[0],G=H[1],K=(new URLSearchParams(Object(o.l)().search),Object(n.useState)(null)),X=Object(m.a)(K,2),Y=X[0],Z=X[1],$=t.params.id,ee=Object(n.useState)(!1),te=Object(m.a)(ee,2),ce=te[0],ae=te[1],ne=Object(n.useState)(!1),se=Object(m.a)(ne,2),re=se[0],ie=se[1],oe=Object(n.useState)(null),je=Object(m.a)(oe,2),le=je[0],be=je[1];function ue(){return(ue=Object(O.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!1),e.prev=1,t="","/posts?",t+="skip="+y+"&category="+$,e.next=8,g.get("/posts?"+t);case 8:c=e.sent,console.log(c.data),x(h.concat(c.data)),N(y+10),(!c.data[0]||c.data.length<10)&&(L(!0),console.log("stoped")),0==c.data.length&&ie(!0),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),b(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function de(){return(de=Object(O.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),b(!1),e.prev=2,"",t="/posts/getpost/"+$,e.next=7,g.get(t);case 7:c=e.sent,console.log(c.data),c.data.length>0&&(W(c.data[0].userid),G(c.data[0].title),be(c.data[0])),i(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),b(e.t0),i(!1);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function pe(){return(pe=Object(O.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(M),t="/users/"+M,e.next=5,g.get(t);case 5:c=e.sent,console.log(c.data),Z(c.data.whatsapp),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Oe(){return(Oe=Object(O.a)(u.a.mark((function e(t){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="/posts?pid="+t,e.next=4,g.delete(c);case 4:a=e.sent,console.log(a.data),ae(!0),window.scrollTo(0,0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){M&&function(){pe.apply(this,arguments)}()}),[M]),Object(n.useEffect)((function(){!function(){de.apply(this,arguments)}()}),[]),Object(a.jsxs)("div",{children:[!r&&Object(a.jsxs)("div",{children:[Object(a.jsx)(w,{}),!ce&&Object(a.jsxs)("div",{className:" mt70  mb-5",children:[Object(a.jsx)("h1",{children:J}),M==Q("user_id")?Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"mb-3",children:[Object(a.jsx)(E.Link,{to:"/addpost?type=category&category="+$,children:Object(a.jsxs)("button",{className:"btn btn-dark btn-sm",children:[" ",Object(a.jsx)(k.a,{icon:"plus"})," Add category "]})}),Object(a.jsx)(E.Link,{to:"/addpost?type=product&category="+$,children:Object(a.jsxs)("button",{className:"btn btn-dark btn-sm ml-2",children:[" ",Object(a.jsx)(k.a,{icon:"plus"})," Add product "]})}),re&&Object(a.jsx)("button",{className:"btn btn-danger mt-2",onClick:function(){!function(e){Oe.apply(this,arguments)}(le._id)},children:"Delete category"})]})}):Object(a.jsx)(a.Fragment,{}),Object(a.jsx)("div",{children:Object(a.jsx)(D.ResponsiveMasonry,{columnsCountBreakPoints:{350:2,750:3,900:3},children:Object(a.jsx)(T.a,{gutter:"5px",children:h.map((function(e){return Object(a.jsx)(B,{data:e,setcopied:P},e._id)}))})})}),!F&&Object(a.jsx)(R.a,{as:"div",onChange:function(e,t){e&&function(){ue.apply(this,arguments)}()},children:Object(a.jsx)("div",{className:"container mb-4 text-center",children:Object(a.jsx)("div",{className:"spinner-border text-primary",role:"status"})})}),Y&&Object(a.jsx)(A,{num:Y})]}),ce&&Object(a.jsx)("h1",{className:"mt70",children:"DELETED !!!"})]}),r&&Object(a.jsx)(q,{})]})},Y=c(61),Z=c(17),$=function(e){var t=e.match,c=Object(n.useState)(!0),s=Object(m.a)(c,2),r=s[0],i=s[1],o=Object(n.useState)(!1),j=Object(m.a)(o,2),l=(j[0],j[1]),b=Object(n.useState)(null),d=Object(m.a)(b,2),p=d[0],h=d[1],x=Object(n.useState)(null),f=Object(m.a)(x,2),v=f[0],y=f[1],N=Object(n.useState)(null),S=Object(m.a)(N,2),C=S[0],F=S[1],E=Object(n.useState)(!1),L=Object(m.a)(E,2),_=L[0],R=L[1],B=t.params.id;function D(){return(D=Object(O.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),l(!1),e.prev=2,t="/posts/getpost/"+B,e.next=6,g.get(t);case 6:c=e.sent,console.log(c.data),c.data.length>0&&(h(c.data[0].userid),F(c.data[0])),i(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),l(e.t0),i(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function T(){return(T=Object(O.a)(u.a.mark((function e(){var t,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(p),t="/users/"+p,e.next=5,g.get(t);case 5:c=e.sent,console.log(c.data),y(c.data.whatsapp),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function U(){return(U=Object(O.a)(u.a.mark((function e(t){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="/posts?pid="+t,e.next=4,g.delete(c);case 4:a=e.sent,console.log(a.data),R(!0),window.scrollTo(0,0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){p&&function(){T.apply(this,arguments)}()}),[p]),Object(n.useEffect)((function(){!function(){D.apply(this,arguments)}()}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)(w,{}),!r&&Object(a.jsxs)(a.Fragment,{children:[!_&&Object(a.jsxs)("div",{className:"mt70 mb-5",children:[Object(a.jsxs)("div",{className:"product-div ",children:[Object(a.jsx)("img",{className:"product-img m-auto",src:C.photo}),Object(a.jsxs)("div",{className:"px-2",children:[Object(a.jsx)("h4",{className:"mt-3 mb-0",children:C.title}),Object(a.jsxs)("h6",{className:"text-muted",children:[C.description," "]}),Object(a.jsxs)("h2",{className:"mt-2",children:["\u20b9 ",C.price," "]}),Object(a.jsxs)("div",{className:"row mt-2",children:[Object(a.jsx)("div",{className:"col pr-0",children:v&&Object(a.jsx)("a",{type:"button",target:"_blank",href:"https://wa.me/91"+v+"?text= I want *"+C.title+"*. %0A %0A Product_URL: http://"+window.location.host+"/%23/product/"+C._id,className:"btn btn-block btn-primary",children:" Buy Now "})}),Object(a.jsxs)("div",{className:"col-4 text-right",children:[Object(a.jsxs)("span",{onClick:function(){Y(window.location.href)},children:[Object(a.jsx)(k.a,{icon:"heart",className:"mt-2 mr-3"})," "]}),Object(a.jsx)(k.a,{icon:"share-2",className:"mt-2"})]})]})]})]}),C.userid==Z("user_id")?Object(a.jsx)("button",{onClick:function(){!function(e){U.apply(this,arguments)}(C._id)},className:"btn btn-danger mt-3",children:"Delete Product"}):Object(a.jsx)(a.Fragment,{})]}),_&&Object(a.jsx)("h2",{className:"mt70",children:"DELETED !!!"}),v&&Object(a.jsx)(A,{num:v})]}),r&&Object(a.jsx)(q,{})]})},ee=c(17);var te=function(){return Object(a.jsx)("div",{className:"app-div m-auto",children:Object(a.jsxs)(j.CacheSwitch,{children:[Object(a.jsx)(o.d,{exact:!0,path:"/",children:ee("accessToken")?Object(a.jsx)(o.c,{to:"/user/me"}):Object(a.jsx)(o.c,{to:"/login"})}),Object(a.jsx)(l.a,{exact:!0,path:"/user/:id",component:I}),Object(a.jsx)(o.d,{exact:!0,path:"/login",component:F}),Object(a.jsx)(o.d,{exact:!0,path:"/editprofile",component:G}),Object(a.jsx)(o.d,{exact:!0,path:"/addpost",component:K}),Object(a.jsx)(l.a,{multiple:!0,exact:!0,path:"/category/:id",component:X}),Object(a.jsx)(l.a,{multiple:!0,exact:!0,path:"/product/:id",component:$})]})})};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(E.HashRouter,{children:Object(a.jsx)(te,{})})}),document.getElementById("root"))},45:function(e,t,c){},71:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){}},[[179,1,2]]]);
//# sourceMappingURL=main.4ed6617d.chunk.js.map