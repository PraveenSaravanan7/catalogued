(this.webpackJsonpclient_web=this.webpackJsonpclient_web||[]).push([[0],{113:function(e,t,c){},114:function(e,t,c){},115:function(e,t,c){},180:function(e,t,c){},181:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(1),s=c.n(n),r=c(15),i=c.n(r),o=(c(73),c(74),c(75),c(78),c(79),c(7)),j=c(24),l=c.n(j),b=c(3),d=c.n(b),u=c(18),p=c(13),m=c(4),O=c(2),h=c(66),x=c.n(h),f=c(19)("accessToken"),g=x.a.create({baseURL:"https://fierce-inlet-80648.herokuapp.com/",timeout:3e3,headers:{Authorization:"Bearer "+f}}),v=(c(46),c.p+"static/media/logo.0b345ffd.svg"),N=c.p+"static/media/logo_grid.eb9a7f8e.svg",y=c(5),k=c.n(y),w=c(6),S=function(e){return Object(a.jsx)("div",{className:" header p-2 px-3",children:e.login?Object(a.jsxs)("span",{children:["  ",Object(a.jsx)("img",{src:v,height:50})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{src:N,height:40}),Object(a.jsxs)("span",{className:"float-right pt-2",children:[Object(a.jsx)(w.Link,{to:"/search",children:Object(a.jsx)(k.a,{icon:"search",color:"black",className:"mr-3"})}),Object(a.jsx)(w.Link,{to:"/favorite",children:Object(a.jsx)(k.a,{icon:"heart",color:"black",className:"mr-0"})})]})]})})},C=c(47),F=c(19),L=function(){var e=Object(o.k)(),t=Object(n.useState)([]),c=Object(O.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)(!1),j=Object(O.a)(i,2),l=j[0],b=j[1],h=Object(n.useState)(!1),x=Object(O.a)(h,2),f=x[0],v=x[1],N=Object(n.useState)([]),y=Object(O.a)(N,2),k=y[0],w=y[1],L=Object(n.useState)([]),E=Object(O.a)(L,2),_=E[0],R=E[1],A=Object(n.useState)(!0),P=Object(O.a)(A,2),B=P[0],U=P[1];function q(){return(q=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),v(!1),e.prev=2,e.next=5,g.post("/users",s);case 5:if(!(t=e.sent).data){e.next=8;break}return e.abrupt("return",t.data);case 8:b(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),v(e.t0),b(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function D(){return(D=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),v(!1),e.prev=2,e.next=5,g.post("/users/login",s);case 5:if(!(t=e.sent).data){e.next=8;break}return e.abrupt("return",t.data);case 8:b(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),v(e.t0),b(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}var T=function(e){r(Object(p.a)(Object(p.a)({},s),{},Object(u.a)({},e.target.name,e.target.value.trim())))};function z(t){t.preventDefault(),function(){return q.apply(this,arguments)}().then((function(t){t.accessToken&&(F("accessToken",t.accessToken),F("user_id",t.user_id),e.push("/user/me"))}))}function H(t){t.preventDefault(),function(){return D.apply(this,arguments)}().then((function(t){t.accessToken&&(console.log(t),F("accessToken",t.accessToken),F("user_id",t.user_id),e.push("/user/me"))}))}return Object(n.useEffect)((function(){s.country&&w(C.searchCountry(s.country))}),[s.country]),Object(n.useEffect)((function(){s.state&&R(C.getAllStatesFromCountry(s.country))}),[s.state]),Object(a.jsxs)("div",{children:[Object(a.jsx)(S,{login:!0}),Object(a.jsxs)("div",{className:"mt70 pt-3 pb-5",children:[Object(a.jsx)("h1",{className:"font-weight-bolder",children:"Online catalog for your products"}),Object(a.jsxs)("div",{className:"overflow mt-3 mb-2",children:[Object(a.jsx)("img",{className:"project-img",src:"https://drive.google.com/uc?id=1qLDGPM8gKjcp20A7Vbq4AFPVhzuBY6jv"}),Object(a.jsx)("img",{className:"project-img",src:"https://drive.google.com/uc?id=10HRRXvm_QjyMmOrRH5hN38V5ySi__vuL"}),Object(a.jsx)("img",{className:"project-img",src:"https://drive.google.com/uc?id=1oO4YhQ0KHXcPR2gSI6AkQmQ8BCc60WTa"}),Object(a.jsx)("img",{className:"project-img",src:"https://drive.google.com/uc?id=10L2OwUbuESLEr4AXS2_xamBqNlLFCcCd"}),Object(a.jsx)("img",{className:"project-img",src:"https://drive.google.com/uc?id=1tw8RwQUmJlzIBswhn8tdJvbRU7QRz_FR"})]}),Object(a.jsxs)("div",{className:"tab-bg mt-2 p-1",children:[Object(a.jsx)("button",{className:B?"btn btn-primary":"btn btn-light bg-white",onClick:function(){U(!0)},children:"SignUp"}),Object(a.jsx)("button",{className:B?"btn btn-light bg-white ml-2":"btn btn-primary ml-2",onClick:function(){U(!1)},children:"LogIn"})]}),B?Object(a.jsxs)("form",{className:"mt-4 px-2",onSubmit:function(e){return z(e)},children:[Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Shop Name"})}),Object(a.jsx)("input",{type:"text",className:"form-control",required:!0,name:"name",onChange:T})]}),Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Email"})}),Object(a.jsx)("input",{type:"email",className:"form-control",required:!0,name:"email",onChange:T})]}),Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"WhatsApp number"})}),Object(a.jsx)("input",{type:"number",className:"form-control",required:!0,name:"whatsapp",onChange:T})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Password"})}),Object(a.jsx)("input",{type:"password",className:"form-control",required:!0,name:"password",onChange:T})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Address"})}),Object(a.jsx)("input",{type:"text",className:"form-control",required:!0,name:"address",onChange:T})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Country"})}),Object(a.jsx)("input",{list:"countrylist",type:"text",className:"form-control",required:!0,name:"country",onChange:T}),Object(a.jsx)("datalist",{id:"countrylist",children:k.map((function(e){return Object(a.jsx)("option",{value:e.name},e.id)}))})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"State"})}),Object(a.jsx)("input",{type:"text",list:"statelist",className:"form-control",required:!0,name:"state",onChange:T}),Object(a.jsx)("datalist",{id:"statelist",children:_.map((function(e){return Object(a.jsx)("option",{value:e.name},e.id)}))})]}),f&&Object(a.jsxs)("span",{className:"text-danger font-weight-bold",children:["Email or WhatsApp number already exists try to log in. ",Object(a.jsx)("br",{})]}),Object(a.jsx)("button",{type:"submit",className:"mt-2 btn  btn-dark",children:l?Object(a.jsx)(a.Fragment,{children:"Loading..."}):Object(a.jsx)(a.Fragment,{children:"Submit"})})]}):Object(a.jsxs)("form",{className:"mt-4 px-2",onSubmit:function(e){return H(e)},children:[Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Email"})}),Object(a.jsx)("input",{type:"email",className:"form-control",required:!0,name:"email",onChange:T})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Password"})}),Object(a.jsx)("input",{type:"password",className:"form-control",required:!0,name:"password",onChange:T})]}),f&&Object(a.jsxs)("span",{className:"text-danger font-weight-bold",children:["Incorrect Email or Password. ",Object(a.jsx)("br",{})]}),Object(a.jsx)("button",{type:"submit",className:"mt-2 btn  btn-dark",children:l?Object(a.jsx)(a.Fragment,{children:"Loading..."}):Object(a.jsx)(a.Fragment,{children:"Submit"})})]})]})]})},E=c.p+"static/media/dp.280bc121.svg",_=(c(113),c(114),c.p+"static/media/whatsapp.4a15730c.svg"),R=function(e){return Object(a.jsx)("div",{className:"wabtn",children:Object(a.jsx)("a",{href:"https://wa.me/91"+e.num,target:"_blank",children:Object(a.jsx)("img",{src:_,width:"50px"})})})},A=(c(115),function(){return Object(a.jsx)("div",{className:"loadingdiv",children:Object(a.jsx)("div",{className:"lodingcenterdiv",children:Object(a.jsx)("div",{className:"spinner-border text-primary loadingitem ",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})})})}),P=c(26),B=function(e){var t="category"==e.data.type?"/category/"+e.data._id:"/product/"+e.data._id;return Object(a.jsx)(w.Link,{to:t,children:Object(a.jsxs)("div",{className:"grid-box",children:[Object(a.jsx)("img",{className:"grid-image",src:e.data.photo}),Object(a.jsx)("h5",{className:"mb-0 ",children:e.data.title}),Object(a.jsxs)("span",{className:"text-muted d-inline-block text-truncate truncate",children:[" ",e.data.description," "]}),e.data.price&&Object(a.jsxs)("h4",{className:"mt-1",children:["\u20b9 ",e.data.price]})]})})},U=(c(49),c(21)),q=c.n(U),D=c(22),T=(c(62),c(63)),z=c(19),H=function(e){var t=e.match,c=Object(n.useState)([]),s=Object(O.a)(c,2),r=s[0],i=s[1],o=Object(n.useState)(!0),j=Object(O.a)(o,2),l=j[0],b=j[1],u=Object(n.useState)(!1),p=Object(O.a)(u,2),h=p[0],x=p[1],f=Object(n.useState)([]),v=Object(O.a)(f,2),N=v[0],y=v[1],C=Object(n.useState)(0),F=Object(O.a)(C,2),L=F[0],_=F[1],H=Object(n.useState)(!1),I=Object(O.a)(H,2),M=I[0],V=I[1],W=Object(n.useState)(""),Q=Object(O.a)(W,2),J=(Q[0],Q[1]);t.params.id;function G(){return(G=Object(m.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!1),e.prev=1,t="","/posts?",t+="skip="+L+"&category="+r._id,e.next=8,g.get("/posts?"+t);case 8:c=e.sent,console.log(c.data),y(N.concat(c.data)),_(L+10),(!c.data[0]||c.data.length<10)&&(V(!0),console.log("stoped")),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),x(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function X(){return(X=Object(m.a)(d.a.mark((function e(){var c,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),x(!1),e.prev=2,c=t.params.id,a="me"==c?"/users":"/users/"+c,e.next=7,g.get(a);case 7:n=e.sent,console.log(n.data),i(n.data),b(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),x(e.t0),b(!1);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){console.log("effect"),function(){X.apply(this,arguments)}()}),[]),Object(a.jsxs)("div",{className:"mb-5",children:[Object(a.jsx)(S,{login:!1}),Object(a.jsx)(D.a,{}),h&&Object(a.jsx)("h1",{className:"mt70",children:"User not Found."}),!l&&!h&&Object(a.jsxs)(a.Fragment,{children:[" ",Object(a.jsxs)("div",{className:"mt70",children:[Object(a.jsxs)("div",{className:"mt-3",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-5 pr-0",children:Object(a.jsx)("img",{className:"shadow dp2 mt-1",src:r.profilepic?r.profilepic:E})}),Object(a.jsxs)("div",{className:"col-7",children:[Object(a.jsxs)("h3",{className:"mb-0",children:[r.name," "]}),Object(a.jsxs)("div",{className:"mt-1 text14 font-weight-bold ",children:[" ",r.description]}),Object(a.jsxs)("div",{className:" mt-1 text-small font-weight-bold text-muted",children:[Object(a.jsx)(k.a,{size:12,icon:"map-pin"})," ",r.address+", "+r.state+", "+r.country," "]}),r._id==z("user_id")?Object(a.jsxs)(w.Link,{to:"/editprofile",children:[" ",Object(a.jsxs)("button",{className:"btn btn-light mt-2  btn-sm ",children:[" ",Object(a.jsx)(k.a,{icon:"edit",size:18})," Edit profile"]})]}):Object(a.jsx)(a.Fragment,{})]})]}),Object(a.jsxs)("button",{className:"btn  btn-primary btn-block mt-3",onClick:function(){T(window.location.host+window.location.pathname+"/#/user/"+r._id),D.b.dark("Link copied !!!",{position:"bottom-center",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:[Object(a.jsx)(k.a,{icon:"share-2",size:16})," Share Shop"]}),r._id==z("user_id")?Object(a.jsx)("div",{className:" p-2 ",children:Object(a.jsxs)("div",{className:"mt-2 ",children:[Object(a.jsx)(w.Link,{to:"/addpost?type=category&category="+r._id,children:Object(a.jsxs)("button",{className:"btn btn-dark btn-sm",children:[" ",Object(a.jsx)(k.a,{icon:"plus"})," Add category "]})}),Object(a.jsx)(w.Link,{to:"/addpost?type=product&category="+r._id,children:Object(a.jsxs)("button",{className:"btn btn-dark btn-sm ml-2 ",children:[" ",Object(a.jsx)(k.a,{icon:"plus"})," Add product "]})})]})}):Object(a.jsx)(a.Fragment,{})]}),Object(a.jsx)("div",{}),Object(a.jsxs)("div",{className:" mt-3 mb-5",children:[Object(a.jsx)("div",{class:"",children:Object(a.jsx)(U.ResponsiveMasonry,{columnsCountBreakPoints:{350:2,750:3,900:3},children:Object(a.jsx)(q.a,{gutter:"5px",children:N.map((function(e){return Object(a.jsx)(B,{data:e,setcopied:J},e._id)}))})})}),!M&&Object(a.jsx)(P.a,{as:"div",onChange:function(e,t){e&&function(){G.apply(this,arguments)}()},children:Object(a.jsx)("div",{className:"container mb-4 text-center",children:Object(a.jsx)("div",{className:"spinner-border text-primary",role:"status"})})})]})]}),Object(a.jsx)(R,{num:r.whatsapp})]}),l&&Object(a.jsx)(A,{})]})},I=function(e){var t=Object(o.k)();return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"header p-2 px-2",children:Object(a.jsxs)("span",{className:" headtwo h5",children:[Object(a.jsx)(k.a,{onClick:function(){t.go(-1)},icon:"chevron-left",color:"black"}),"  ",Object(a.jsxs)("b",{children:[" ",e.name]})]})})})},M=(c(180),c(27)),V=(c(64),c(28)),W=function(e){new FileReader;var t=Object(n.useState)(e.pic),c=Object(O.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)(!1),o=Object(O.a)(i,2),j=o[0],l=o[1],b=Object(n.useState)("#"),u=Object(O.a)(b,2),p=(u[0],u[1],Object(n.useState)()),h=Object(O.a)(p,2),x=h[0],f=h[1],v=Object(n.useState)(),N=Object(O.a)(v,2),y=N[0],k=N[1],w=Object(n.useState)(!1),S=Object(O.a)(w,2),C=S[0],F=S[1],L=Object(n.useState)(!1),_=Object(O.a)(L,2),R=(_[0],_[1]),A=new FormData;function P(){return(P=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),R(!1),e.prev=2,e.next=5,g.put("/users/profilephoto",A);case 5:if(!e.sent){e.next=9;break}return F(!1),e.abrupt("return",!0);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),R(e.t0),F(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}var B=function(){var e=Object(m.a)(d.a.mark((function e(t){var c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files&&t.target.files.length>0)){e.next=8;break}return c=t.target.files[0],k(t.target.files[0].name),e.next=5,URL.createObjectURL(c);case 5:a=e.sent,r(a),l(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r(null!=e.pic?e.pic:E)}),[]),Object(a.jsxs)("div",{className:"row mt-3",children:[Object(a.jsx)("div",{className:"container",children:j?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(M.a,{style:{height:200,width:"90%"},initialAspectRatio:1,aspectRatio:1,src:s,viewMode:1,guides:!0,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:0,checkOrientation:!1,onInitialized:function(e){f(e)}}),Object(a.jsx)("button",{className:"btn btn-outline-primary btn-block mt-2",onClick:function(){F(!0),"undefined"!==typeof x&&x.getCroppedCanvas().toBlob((function(e){Object(V.a)(e,{maxSizeMB:2,maxWidthOrHeight:1e3}).then((function(e){A.append("avatar",e,y),function(){return P.apply(this,arguments)}().then(r(x.getCroppedCanvas().toDataURL())).then(l(!1))}))}))},children:C?Object(a.jsx)(a.Fragment,{children:" loading"}):Object(a.jsx)(a.Fragment,{children:"Crop & Upload"})})]}):Object(a.jsx)("img",{src:s,className:"dp"})}),Object(a.jsxs)("div",{className:"col-12 mt-3",children:[Object(a.jsx)("input",{hidden:!0,id:"photoinput",type:"file",accept:"image/*",onChange:B}),Object(a.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(){document.getElementById("photoinput").click()},children:" Change Image "})]})]})},Q=c(47),J=c(19),G=function(){var e=Object(o.k)(),t=Object(n.useState)([]),c=Object(O.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)(null),j=Object(O.a)(i,2),l=j[0],b=j[1],h=Object(n.useState)([]),x=Object(O.a)(h,2),f=x[0],v=x[1],N=Object(n.useState)(!1),y=Object(O.a)(N,2),k=y[0],w=y[1],S=Object(n.useState)(!1),C=Object(O.a)(S,2),F=(C[0],C[1]),L=Object(n.useState)(!1),E=Object(O.a)(L,2),_=E[0],R=E[1],P=Object(n.useState)(!1),B=Object(O.a)(P,2),U=B[0],q=B[1],D=Object(n.useState)(!1),T=Object(O.a)(D,2),z=T[0],H=T[1],M=Object(n.useState)([]),V=Object(O.a)(M,2),G=V[0],X=V[1],K=Object(n.useState)([]),Y=Object(O.a)(K,2),Z=Y[0],$=Y[1];function ee(){return(ee=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(f),R(!0),q(!1),e.prev=3,e.next=6,g.put("/users",f);case 6:e.sent&&(R(!1),H(!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),q(e.t0),R(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function te(){return(te=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),F(!1),e.prev=2,"/users",e.next=6,g.get("/users");case 6:t=e.sent,console.log(t.data),r(t.data),b(t.data.profilepic),w(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),F(e.t0),w(!1);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}var ce=function(e){v(Object(p.a)(Object(p.a)({},f),{},Object(u.a)({},e.target.name,e.target.value.trim())))};function ae(e){e.preventDefault(),function(){ee.apply(this,arguments)}()}return Object(n.useEffect)((function(){!function(){te.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){f.country&&X(Q.searchCountry(f.country))}),[f.country]),Object(n.useEffect)((function(){f.state&&$(Q.getAllStatesFromCountry(f.country))}),[f.state]),Object(n.useEffect)((function(){z&&setTimeout((function(){H(!1)}),3e3)}),[z]),Object(a.jsxs)("div",{className:"mt70  pb-5 ",children:[Object(a.jsx)(I,{name:"Edit Profile"}),!k&&Object(a.jsxs)("div",{children:[Object(a.jsx)(W,{pic:l}),Object(a.jsxs)("form",{className:"mt-4 px-2",onSubmit:function(e){return ae(e)},children:[Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Name"})}),Object(a.jsx)("input",{defaultValue:s.name,type:"text",className:"form-control",required:!0,name:"name",onChange:ce})]}),Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Email"})}),Object(a.jsx)("input",{defaultValue:s.email,type:"email",className:"form-control",required:!0,name:"email",onChange:ce})]}),Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Description"})}),Object(a.jsx)("textarea",{defaultValue:s.description,type:"email",className:"form-control",name:"description",onChange:ce})]}),Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Address"})}),Object(a.jsx)("input",{defaultValue:s.address,type:"text",className:"form-control",required:!0,name:"address",onChange:ce})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Country"})}),Object(a.jsx)("input",{defaultValue:s.country,list:"countrylist",type:"text",className:"form-control",required:!0,name:"country",onChange:ce}),Object(a.jsx)("datalist",{id:"countrylist",children:G.map((function(e){return Object(a.jsx)("option",{value:e.name},e.id)}))})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"State"})}),Object(a.jsx)("input",{defaultValue:s.state,type:"text",list:"statelist",className:"form-control",required:!0,name:"state",onChange:ce}),Object(a.jsx)("datalist",{id:"statelist",children:Z.map((function(e){return Object(a.jsx)("option",{value:e.name},e.id)}))})]}),U&&Object(a.jsxs)("span",{className:"text-danger font-weight-bold",children:["Email or Whatsapp number already exists. ",Object(a.jsx)("br",{})]}),z&&Object(a.jsxs)("span",{className:"text-success font-weight-bold",children:["Updated Successfully. ",Object(a.jsx)("br",{})]}),Object(a.jsx)("button",{type:"submit",className:"mt-2 btn  btn-primary",children:_?Object(a.jsx)(a.Fragment,{children:"Loading..."}):Object(a.jsx)(a.Fragment,{children:"Save"})})]}),Object(a.jsx)("button",{className:"btn btn-block btn-danger mt-5 mb-5",onClick:function(){J("accessToken",null),J("user_id",null),e.replace("/login")},children:"Log Out"})]}),k&&Object(a.jsx)(A,{})]})},X=function(){var e=Object(n.useState)(null),t=Object(O.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(!1),i=Object(O.a)(r,2),j=i[0],l=i[1],b=Object(n.useState)("#"),h=Object(O.a)(b,2),x=(h[0],h[1],Object(n.useState)()),f=Object(O.a)(x,2),v=f[0],N=f[1],y=Object(n.useState)(),w=Object(O.a)(y,2),S=(w[0],w[1]),C=new URLSearchParams(Object(o.l)().search),F=new FormData,L=Object(n.useState)(!1),E=Object(O.a)(L,2),_=E[0],R=E[1],A=Object(n.useState)([]),P=Object(O.a)(A,2),B=P[0],U=P[1],q=Object(n.useState)(!1),D=Object(O.a)(q,2),T=D[0],z=D[1],H=Object(n.useState)(!1),W=Object(O.a)(H,2),Q=W[0],J=W[1],G=Object(n.useState)(!1),X=Object(O.a)(G,2),K=X[0],Y=X[1],Z=Object(n.useState)(null),$=Object(O.a)(Z,2);$[0],$[1];function ee(){return(ee=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t in B)F.append(t,B[t]);return z(!0),Y(!1),e.prev=3,e.next=6,g.post("/posts",F);case 6:e.sent&&(z(!1),R(!0),window.scrollTo(0,0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),Y(e.t0),z(!1);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}var te=function(e){U(Object(p.a)(Object(p.a)({},B),{},Object(u.a)({},e.target.name,e.target.value.trim())))};function ce(e){e.preventDefault(),function(){ee.apply(this,arguments)}()}var ae=function(){var e=Object(m.a)(d.a.mark((function e(t){var c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files&&t.target.files.length>0)){e.next=8;break}return c=t.target.files[0],S(t.target.files[0].name),e.next=5,URL.createObjectURL(c);case 5:a=e.sent,s(a),l(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){U(Object(p.a)(Object(p.a)({},B),{},{type:C.get("type"),category:C.get("category"),avatar:null}))}),[]),Object(a.jsxs)("div",{className:"mt70  pb-5",children:[Object(a.jsx)(I,{name:"Add"}),_?Object(a.jsx)("div",{className:"text-center ",children:Object(a.jsx)("h1",{children:"Upload Successfull."})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("form",{className:"pt-1 px-2",onSubmit:function(e){return ce(e)},children:[Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Title"})}),Object(a.jsx)("input",{type:"text",className:"form-control",required:!0,name:"title",onChange:te})]}),Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Description"})}),Object(a.jsx)("textarea",{type:"text",className:"form-control",name:"description",onChange:te})]}),"product"==B.type?Object(a.jsxs)("div",{className:"form-group ",children:[Object(a.jsx)("span",{children:Object(a.jsx)("b",{children:"Price"})}),Object(a.jsx)("input",{type:"number",className:"form-control",required:!0,name:"price",onChange:te})]}):Object(a.jsx)(a.Fragment,{}),Object(a.jsx)("input",{hidden:!0,id:"postphotoinput",name:"avatar",type:"file",accept:"image/*",required:!0,onChange:ae}),Object(a.jsx)("button",{type:"submit",id:"submitpost",hidden:!0,className:"mt-3 btn  btn-primary",children:T?Object(a.jsx)(a.Fragment,{children:"Loading..."}):Object(a.jsx)(a.Fragment,{children:"Post"})})]}),j?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(M.a,{style:{height:200,width:"90%"},initialAspectRatio:9/16,src:c,viewMode:1,guides:!0,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:0,checkOrientation:!1,onInitialized:function(e){N(e)}}),Object(a.jsx)("button",{className:"btn btn-outline-primary btn-block mt-2",onClick:function(){J(!0),"undefined"!==typeof v&&v.getCroppedCanvas().toBlob((function(e){Object(V.a)(e,{maxSizeMB:1,maxWidthOrHeight:1e3}).then((function(e){U(Object(p.a)(Object(p.a)({},B),{},{avatar:e})),s(v.getCroppedCanvas().toDataURL()),l(!1),J(!1)}))}))},children:Q?Object(a.jsx)(a.Fragment,{children:" loading"}):Object(a.jsx)(a.Fragment,{children:"Crop"})})]}):Object(a.jsx)("img",{src:c,className:"img-preview  mb-2"}),Object(a.jsxs)("button",{onClick:function(){document.getElementById("postphotoinput").click()},className:"btn btn-light btn-block mt-2",children:[Q?Object(a.jsx)(a.Fragment,{children:"Loading..."}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(k.a,{icon:"image"})," Add Photo"]})," "]}),K&&Object(a.jsxs)("span",{className:"text-danger font-weight-bold",children:["Error ",Object(a.jsx)("br",{})]}),B.avatar&&Object(a.jsx)("button",{onClick:function(){document.getElementById("submitpost").click()},className:"mt-3 btn  btn-primary",children:T?Object(a.jsx)(a.Fragment,{children:"Loading..."}):Object(a.jsx)(a.Fragment,{children:"Upload"})})]})]})},K=c(19),Y=function(e){var t=e.match,c=Object(n.useState)(!0),s=Object(O.a)(c,2),r=s[0],i=s[1],j=Object(n.useState)(!1),l=Object(O.a)(j,2),b=l[0],u=l[1],p=Object(n.useState)([]),h=Object(O.a)(p,2),x=h[0],f=h[1],v=Object(n.useState)(0),N=Object(O.a)(v,2),y=N[0],C=N[1],F=Object(n.useState)(!1),L=Object(O.a)(F,2),E=L[0],_=L[1],D=Object(n.useState)(""),T=Object(O.a)(D,2),z=(T[0],T[1]),H=Object(n.useState)(null),I=Object(O.a)(H,2),M=I[0],V=I[1],W=Object(n.useState)(null),Q=Object(O.a)(W,2),J=Q[0],G=Q[1],X=(new URLSearchParams(Object(o.l)().search),Object(n.useState)(null)),Y=Object(O.a)(X,2),Z=Y[0],$=Y[1],ee=t.params.id,te=Object(n.useState)(!1),ce=Object(O.a)(te,2),ae=ce[0],ne=ce[1],se=Object(n.useState)(!1),re=Object(O.a)(se,2),ie=re[0],oe=re[1],je=Object(n.useState)(null),le=Object(O.a)(je,2),be=le[0],de=le[1];function ue(){return(ue=Object(m.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!1),e.prev=1,t="","/posts?",t+="skip="+y+"&category="+ee,e.next=8,g.get("/posts?"+t);case 8:c=e.sent,console.log(c.data),f(x.concat(c.data)),C(y+10),(!c.data[0]||c.data.length<10)&&(_(!0),console.log("stoped")),0==c.data.length&&oe(!0),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),u(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function pe(){return(pe=Object(m.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),u(!1),e.prev=2,"",t="/posts/getpost/"+ee,e.next=7,g.get(t);case 7:c=e.sent,console.log(c.data),c.data.length>0&&(V(c.data[0].userid),G(c.data[0].title),de(c.data[0])),i(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),u(e.t0),i(!1);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function me(){return(me=Object(m.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(M),t="/users/"+M,e.next=5,g.get(t);case 5:c=e.sent,console.log(c.data),$(c.data.whatsapp),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Oe(){return(Oe=Object(m.a)(d.a.mark((function e(t){var c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="/posts?pid="+t,e.next=4,g.delete(c);case 4:a=e.sent,console.log(a.data),ne(!0),window.scrollTo(0,0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){M&&function(){me.apply(this,arguments)}()}),[M]),Object(n.useEffect)((function(){!function(){pe.apply(this,arguments)}()}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)(S,{}),b&&Object(a.jsx)("h1",{className:"mt70",children:"Category not Found."}),!r&&!b&&Object(a.jsxs)("div",{children:[!ae&&Object(a.jsxs)("div",{className:" mt70  mb-5",children:[Object(a.jsx)("h1",{className:"mb-0",children:J}),be.description&&Object(a.jsxs)("div",{children:[" ",Object(a.jsxs)("span",{className:"text-muted font-weight-bold",children:[" ",be.description," "]})]}),M==K("user_id")?Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"mb-3 mt-2",children:[Object(a.jsx)(w.Link,{to:"/addpost?type=category&category="+ee,children:Object(a.jsxs)("button",{className:"btn btn-dark btn-sm",children:[" ",Object(a.jsx)(k.a,{icon:"plus"})," Add category "]})}),Object(a.jsx)(w.Link,{to:"/addpost?type=product&category="+ee,children:Object(a.jsxs)("button",{className:"btn btn-dark btn-sm ml-2",children:[" ",Object(a.jsx)(k.a,{icon:"plus"})," Add product "]})}),ie&&Object(a.jsx)("button",{className:"btn btn-danger mt-2",onClick:function(){!function(e){Oe.apply(this,arguments)}(be._id)},children:"Delete category"})]})}):Object(a.jsx)(a.Fragment,{}),Object(a.jsx)("div",{className:"mt-2",children:Object(a.jsx)(U.ResponsiveMasonry,{columnsCountBreakPoints:{350:2,750:3,900:3},children:Object(a.jsx)(q.a,{gutter:"5px",children:x.map((function(e){return Object(a.jsx)(B,{data:e,setcopied:z},e._id)}))})})}),!E&&Object(a.jsx)(P.a,{as:"div",onChange:function(e,t){e&&function(){ue.apply(this,arguments)}()},children:Object(a.jsx)("div",{className:"container mb-4 text-center",children:Object(a.jsx)("div",{className:"spinner-border text-primary",role:"status"})})}),Z&&Object(a.jsx)(R,{num:Z})]}),ae&&Object(a.jsx)("h1",{className:"mt70",children:"DELETED !!!"})]}),r&&Object(a.jsx)(A,{})]})},Z=c(63),$=c(19),ee=function(e){var t=e.match,c=Object(n.useState)(!0),s=Object(O.a)(c,2),r=s[0],i=s[1],o=Object(n.useState)(!1),j=Object(O.a)(o,2),l=j[0],b=j[1],u=Object(n.useState)(null),p=Object(O.a)(u,2),h=p[0],x=p[1],f=Object(n.useState)(null),v=Object(O.a)(f,2),N=v[0],y=v[1],C=Object(n.useState)(null),F=Object(O.a)(C,2),L=F[0],E=F[1],_=Object(n.useState)(!1),P=Object(O.a)(_,2),B=P[0],U=P[1],q=t.params.id;function T(){return(T=Object(m.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),b(!1),e.prev=2,t="/posts/getpost/"+q,e.next=6,g.get(t);case 6:c=e.sent,console.log(c.data),c.data.length>0&&(x(c.data[0].userid),E(c.data[0])),i(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),b(e.t0),i(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function z(){return(z=Object(m.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(h),t="/users/"+h,e.next=5,g.get(t);case 5:c=e.sent,console.log(c.data),y(c.data.whatsapp),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function H(){return(H=Object(m.a)(d.a.mark((function e(t){var c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="/posts?pid="+t,e.next=4,g.delete(c);case 4:a=e.sent,console.log(a.data),U(!0),window.scrollTo(0,0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){h&&function(){z.apply(this,arguments)}()}),[h]),Object(n.useEffect)((function(){!function(){T.apply(this,arguments)}()}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)(S,{}),Object(a.jsx)(D.a,{}),l&&Object(a.jsx)("h1",{className:"mt70",children:"Product not Found."}),!r&&!l&&Object(a.jsxs)(a.Fragment,{children:[!B&&Object(a.jsxs)("div",{className:"mt70 mb-5",children:[Object(a.jsxs)("div",{className:"product-div ",children:[Object(a.jsx)("img",{className:"product-img m-auto",src:L.photo}),Object(a.jsxs)("div",{className:"px-2",children:[Object(a.jsx)("h4",{className:"mt-3 mb-0",children:L.title}),Object(a.jsxs)("h6",{className:"text-muted",children:[L.description," "]}),Object(a.jsxs)("h2",{className:"mt-2",children:["\u20b9 ",L.price," "]}),Object(a.jsxs)("div",{className:"row mt-2",children:[Object(a.jsx)("div",{className:"col pr-0",children:N&&Object(a.jsx)("a",{type:"button",target:"_blank",href:"https://wa.me/91"+N+"?text= I want *"+L.title+"*. %0A %0A Product_URL: http://"+window.location.host+window.location.pathname+"/%23/product/"+L._id,className:"btn btn-block btn-primary",children:" Buy Now "})}),Object(a.jsxs)("div",{className:"col-4 text-right",children:[Object(a.jsx)(w.Link,{to:"/favorite",children:Object(a.jsx)(k.a,{color:"black",icon:"heart",className:"mt-2 mr-3"})}),Object(a.jsx)("span",{onClick:function(){Z(window.location.href),D.b.dark("Link copied !!!",{position:"bottom-center",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:Object(a.jsx)(k.a,{icon:"share-2",className:"mt-2"})})]})]})]})]}),L.userid==$("user_id")?Object(a.jsx)("button",{onClick:function(){!function(e){H.apply(this,arguments)}(L._id)},className:"btn btn-danger mt-3",children:"Delete Product"}):Object(a.jsx)(a.Fragment,{})]}),B&&Object(a.jsx)("h2",{className:"mt70",children:"DELETED !!!"}),N&&Object(a.jsx)(R,{num:N})]}),r&&Object(a.jsx)(A,{})]})},te=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(I,{name:"Search"}),Object(a.jsxs)("div",{className:"mt70 text-center",children:[Object(a.jsx)("h2",{children:"Under Developement"}),Object(a.jsx)(k.a,{icon:"github",size:100}),Object(a.jsx)("h2",{children:"Contribute on GitHub"}),Object(a.jsx)("a",{className:"text-break",href:"https://github.com/PraveenSaravanan7/catalogued",target:"blank",children:"https://github.com/PraveenSaravanan7/catalogued"})]})]})},ce=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(I,{name:"Search"}),Object(a.jsxs)("div",{className:"mt70 text-center",children:[Object(a.jsx)("h2",{children:"Under Developement"}),Object(a.jsx)(k.a,{icon:"github",size:100}),Object(a.jsx)("h2",{children:"Contribute on GitHub"}),Object(a.jsx)("a",{className:"text-break",href:"https://github.com/PraveenSaravanan7/catalogued",target:"blank",children:"https://github.com/PraveenSaravanan7/catalogued"})]})]})},ae=c(19);var ne=function(){return Object(a.jsx)("div",{className:"app-div m-auto",children:Object(a.jsxs)(j.CacheSwitch,{children:[Object(a.jsx)(o.d,{exact:!0,path:"/",children:ae("accessToken")?Object(a.jsx)(o.c,{to:"/user/me"}):Object(a.jsx)(o.c,{to:"/login"})}),Object(a.jsx)(l.a,{exact:!0,path:"/user/:id",component:H}),Object(a.jsx)(o.d,{exact:!0,path:"/login",component:L}),Object(a.jsx)(o.d,{exact:!0,path:"/editprofile",component:G}),Object(a.jsx)(o.d,{exact:!0,path:"/addpost",component:X}),Object(a.jsx)(o.d,{exact:!0,path:"/search",component:te}),Object(a.jsx)(o.d,{exact:!0,path:"/favorite",component:ce}),Object(a.jsx)(l.a,{multiple:!0,exact:!0,path:"/category/:id",component:Y}),Object(a.jsx)(l.a,{multiple:!0,exact:!0,path:"/product/:id",component:ee})]})})};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(w.HashRouter,{children:Object(a.jsx)(ne,{})})}),document.getElementById("root"))},46:function(e,t,c){},73:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){}},[[181,1,2]]]);
//# sourceMappingURL=main.7592b772.chunk.js.map